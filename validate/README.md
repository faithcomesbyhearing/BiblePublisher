# Publisher Validation

The Publisher Validation is a set of programs that are used to validate the correctness of the content that is produced by the publisher.js program.  All of these program display validation results on the command line where the program is run.  Some of them also store their results in the validation table that is in the bible database, which is generated by publisher.js.  

## HTMLValidator

This program reads the HTML files that were generated by publisher.js and generates .usx files that are equivalent, and then it does a line by line compare to insure that the generated .usx files are identical to the original .usx files.  This is what I call a symmetric test.

	HTMLValidator.sh  directory_of_usx_files  directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId
	
## USXParserTest

This program reads the .usx files into an internal form used in the publisher.js program, and then from that internal form, it generates .usx files, and then it does a line by line compare to insure the generated .usx files are identical to the original .usx files.  If validation problems occur when running HTMLValidator, using this program will help determine if those problems occur in the parsing of the .usx files.

	USXParserTest.sh  directory_of_usx_files  directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId
	
##  XMLTokenizerTest

This program reads the .usx files into an internal list of XML tokens that are used by the USXParser.  It then uses these tokens to generate .usx file, and the does a line by line compare to insure the generated .usx files are identical to the original .usx file.  If validation problems occur when running USXParserText, using this program will help determine if those problems occur in the "tokenizer" phase of parsing .usx files.

	XMLTokenizerTest.sh  directory_of_usx_files  directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId
	
## VersesValidator

This publisher.js program generates the verse data by parsing the .usx files, and extracting the text.  This validation program performs the same task by reading the HTML files that were produced by publisher.js and generates the verses from that source.  The verses data produced from .usx is then compared to the verses data produced from HTML.  

	VersesValidator.sh  directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId
	
## StyleUseValidator

The publisher.js program generates HTML files that can be displayed correctly with the right CSS (Cascading Style Sheet).  This program displays any .usx style codes, that have not yet been given formatting instructions in the CSS file.  Typically, validation program returns nothing, but when it returns something entries for those style codes should be added to the CSS file used to display the HTML.  

	StyleUseValidator.sh  directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId
	
## TableContentsValidator

This program does not validate the table of contents generated by the publisher.js program, it simply displays the contents of that table on the command line.

	TableContentsValidator.sh  directory_of_publisher_output_db  dbibleId_or_versionId
	
## ConcordanceValidator

The publisher.js program creates a concordance index of all words in the Bible, and includes the ordinal position of the word in the verse.  The ConcordanceValidator uses the index to recreate the content of the Bible.  It then compares the text of the Bible in the verse table with the Bible text generated from the concordance, ignoring punctuation and whitespace it ensures that the result matches the original Bible text.  While the other programs will run in a few seconds as long as there are no problems.  This program takes abut 10 minutes to run on an Intel i7 Mac.

	ConcordanceValidator.sh directory_of_publisher_output_db  directory_for_test_results  bibleId_or_versionId

## ValidationCleanup

This program cleans up the Bible database that was generated by publisher.js.  Some tables and columns in some tables are removed, because they were created by the publishing and validation process, but are not needed to use the Bible.


	ValidationCleanup.sh  directory_of_publisher_output_db  dbibleId_or_versionId

## IdentityTable

This program creates a table named identity in the Bible database that was created by publisher.js, and inserts one record into the table to store a limited amount of information about the Bible.

	IdentityTable.sh  directory_of_publisher_output_db  dbibleId_or_versionId

